# [Festival in Busan!ğŸ‰](https://festival-pink.vercel.app/)

ë¶€ì‚°ì¶•ì œ ì¦ê¸°ëŸ¬ ê°€ë³¼ê¹Œìš”?

## Preveiw

![image](https://github.com/suyeonpar/Festival/assets/142365626/8eed8d5c-7343-434c-b905-bc4c5f37844a)




### React APIì—°ë™ ì—°ìŠµì˜ ìµœì í™”
 
í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìê°€ ì‹¤ë¬´ì—ì„œ ê°€ì¥ ë§ì´ ì“´ë‹¤ëŠ” API ì—°ë™í•˜ê¸°.
ì ˆëŒ€ ë¹ íŠ¸ë ¤ì„œë„, ì—°ìŠµì„ ì•ˆí•´ì„œë„ ì•ˆëœë‹¤!


* #### ì‚¬ìš©í•œ ê¸°ìˆ 


#### Environmnet

![image](https://github.com/suyeonpar/clone-belif/assets/142365626/40429fb4-d844-4ea9-b9cd-f2f9f89fbd79)



#### Development

<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black"> <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"> <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">



### API ì—°ë™í•˜ì—¬ ë°ì´í„° ì‚¬ìš©í•˜ê¸° âœ


![image](https://github.com/suyeonpar/Festival/assets/142365626/2c3181d6-a61f-4ee7-b5af-a476e460a9bb)


**AxiosëŠ” ë§ì€ ê°œë°œìê°€ ì‚¬ìš©í•˜ëŠ” JavaScript ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, HTTP ìš”ì²­ì„ ê°„í¸í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. **

í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œì˜ í˜‘ì—… ì¤‘ ë‹¹ì—° ì œì¼ ë§ì´ ì“°ì´ê³  ì‹¤ë¬´ì—ì„œë„ ì •ë§ì •ë§ ë§ì´ ì“°ì¼ ê¸°ìˆ ... ë§ì€ ì—°ìŠµì´ í•„ìš”í•˜ë‹¤ê³  ìƒê°ì´ ëœë‹¤.

ì¼ë‹¨ ì›ë¦¬ì— ëŒ€í•´ ê³µë¶€í•´ë³´ì!

ìœ„ ì½”ë“œëŠ” **Reactì˜ useEffect í›…ì„ ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œì„ ìˆ˜í–‰í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ìƒíƒœ(state)ì— ì €ì¥í•˜ëŠ” ì—­í• ** ì„ í•œë‹¤. ì´ì œ ë™ì‘ê³¼ ê´€ë ¨ëœ ì„¤ëª…ì„ í•´ë³´ì.

* useEffect(callback, []): useEffectëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ëœ í›„ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” React í›…. ë‘ ë²ˆì§¸ ì¸ìë¡œ ë¹ˆ ë°°ì—´([])ì„ ì „ë‹¬í•˜ë©´, ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë§ˆìš´íŠ¸ë  ë•Œë§Œ useEffectì˜ ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.

* axios.get(url): axiosëŠ” HTTP í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, í•´ë‹¹ URLë¡œ GET ìš”ì²­ì„ ë³´ë‚´ëŠ” ì—­í• ì„ í•œë‹¤.

(ì—¬ê¸°ì„œ GET ìš”ì²­ì´ë€ HTTP í”„ë¡œí† ì½œì—ì„œ ì‚¬ìš©ë˜ëŠ” ìš”ì²­ ë©”ì„œë“œ ì¤‘ í•˜ë‚˜ì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì—ê²Œ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ë©”ì„œë“œì´ë©°, GET ìš”ì²­ì€ ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”ê²ƒ~ ì´ ì½”ë“œì—ì„œëŠ” ì£¼ì–´ì§„ URLë¡œ GET ìš”ì²­ì„ ë³´ë‚´ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.)

* https://apis.data.go.kr/6260000/FestivalService/getFestivalKr?serviceKey=${process.env.REACT_APP_APIKEY}&pageNo=1&numOfRows=100&resultType=json: API ìš”ì²­ì„ ë³´ë‚¼ URL. process.env.REACT_APP_APIKEYëŠ” React ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í™˜ê²½ ë³€ìˆ˜ì—ì„œ API í‚¤ë¥¼ ê°€ì ¸ì™€ì„œ URLì— í¬í•¨ì‹œí‚¨ë‹¤. pageNo=1ê³¼ numOfRows=100ì€ í˜ì´ì§€ ë²ˆí˜¸ì™€ í•œ ë²ˆì— ê°€ì ¸ì˜¬ ë°ì´í„°ì˜ ê°œìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ê²ƒ. resultType=jsonì€ ì‘ë‹µ ê²°ê³¼ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ìš”ì²­í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.

* .then(function(res) { setAllData(res.data.getFestivalKr.item); }): API ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ë©´, ì‘ë‹µ ë°ì´í„°ì—ì„œ í•„ìš”í•œ ì •ë³´(getFestivalKr.item)ë¥¼ ì¶”ì¶œí•˜ì—¬ setAllData í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒíƒœ(state)ë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤. ì´ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë˜ê³ , ë°ì´í„°ê°€ í™”ë©´ì— í‘œì‹œë  ìˆ˜ ìˆê²Œ ëœë‹¤!.

ì¦‰, ìœ„ì˜ ì½”ë“œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë§ˆìš´íŠ¸ë  ë•Œ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë©°, ì£¼ì–´ì§„ APIë¥¼ í†µí•´ ì¶•ì œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ìƒíƒœì— ì €ì¥í•˜ëŠ” ì—­í• ì„ í•œë‹¤ëŠ” ê²ƒ!! ì´ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ëŠ” APIë¡œë¶€í„° ë°›ì€ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ í•„ìš”í•œ UIë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆê²Œ ëœë‹¤.





### í˜ì´ì§€ë„¤ì´ì…˜ êµ¬í˜„

ì»¨í…ì¸ ê°€ ë§ë‹¤ë©´ ë‹¹ì—°íˆ í˜ì´ì§€ë„¤ì´ì…˜ë„ ìˆì–´ì•¼ê² ì£ ...?

êµ¬í˜„í•˜ê¸° í˜ë“¤ì—ˆë˜ í˜ì´ì§€ë„¤ì´ì…˜ë„ ì™„ì„±ì€ í–ˆìœ¼ë‚˜ ì•„ì§ ì—°ìŠµì´ ë§ì´ í•„ìš”í•œ ê²ƒ ê°™ë‹¤.
ì½”ë“œë¥¼ í•˜ë‚˜ì”© ë¶„ì„í•´ë³´ë©° ë‹¤ì‹œ ë³µìŠµí•´ë³´ì!

![image](https://github.com/suyeonpar/Festival/assets/142365626/75aa6d64-f5d1-485b-92cc-c3834d865734)

ë¨¼ì € stateê°’ì„ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.

const list = 10; ****í˜ì´ì§€ë‹¹ ëª©ë¡ ê°œìˆ˜ë¥¼ 10ìœ¼ë¡œ ì„¤ì •****

const [page, setPage] = useState(1); ****ìƒíƒœ ë³€ìˆ˜ pageì™€ í•´ë‹¹ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” setPage í•¨ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³ , ì´ˆê¸°ê°’ì„ 1ë¡œ ì„¤ì •****

const [totalCnt, setTotalCnt] = useState(0); ****ìƒíƒœ ë³€ìˆ˜ totalCntì™€ í•´ë‹¹ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” setTotalCnt í•¨ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³ , ì´ˆê¸°ê°’ì„ 0ìœ¼ë¡œ ì„¤ì •****

const pagination = 5; ****í˜ì´ì§€ë„¤ì´ì…˜ì—ì„œ í•œ ë²ˆì— ë³´ì—¬ì¤„ í˜ì´ì§€ ë²ˆí˜¸ ê°œìˆ˜ë¥¼ 5ë¡œ ì§€ì •****

const totalPage = Math.floor(totalCnt / list); ****ì „ì²´ í˜ì´ì§€ ìˆ˜ë¥¼ ê³„ì‚°í•˜ì—¬ totalPage ë³€ìˆ˜ì— í• ë‹¹.****



### **ì´ì œ ìœ„ì˜ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì£¼ì!!
ëŒ€ë§ì˜ í•¨ìˆ˜ ë§Œë“¤ê¸°.... ì–´ë µë‹¤ ì–´ë ¤ì›Œ... í•˜ì§€ë§Œ êµ¬í˜„ì€ í•´ë‚´ì•¼ì§€

![image](https://github.com/suyeonpar/Festival/assets/142365626/feae0254-dae4-466f-b008-f991f125080a)

let startPage, endPage;  ****í˜ì´ì§€ë„¤ì´ì…˜ì—ì„œ ì‹œì‘ í˜ì´ì§€ì™€ ë í˜ì´ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜ë¥¼ ì„ ì–¸í•´ì¤€ë‹¤****

const currentBlock = Math.ceil(page / pagination);  ****í˜„ì¬ í˜ì´ì§€ê°€ ì†í•œ í˜ì´ì§€ ë¸”ë¡ì„ ê³„ì‚°í•˜ì—¬ currentBlock ë³€ìˆ˜ì— í• ë‹¹****

startPage = (currentBlock - 1) * pagination + 1;  ****ì‹œì‘ í˜ì´ì§€ë¥¼ ê³„ì‚°í•˜ì—¬ startPage ë³€ìˆ˜ì— í• ë‹¹****

endPage = startPage + pagination - 1;  ****ë í˜ì´ì§€ë¥¼ ê³„ì‚°í•˜ì—¬ endPage ë³€ìˆ˜ì— í• ë‹¹.****

if (endPage > totalPage) {
  endPage = totalPage;
}  ****endPageê°€ ì „ì²´ í˜ì´ì§€ ìˆ˜ë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šë„ë¡ ì¡°ì •****

const PrevBlock = () => {
  if (startPage > 1) {
    setPage(startPage - pagination);
  }
} ****ì´ì „ í˜ì´ì§€ ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ëŠ” í•¨ìˆ˜****

const NextBlock = () => { 
  if (endPage < totalPage) {
    setPage(startPage + pagination);
  }
} ****ë‹¤ìŒ í˜ì´ì§€ ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ëŠ” í•¨ìˆ˜****

const PageList = []; ****í˜ì´ì§€ ë²ˆí˜¸ë¥¼ ë‹´ì„ ë°°ì—´****


for (let i = startPage; i <= endPage; i++) {
  PageList.push(
    <li className={page === i ? 'on' : ''} key={i} onClick={() => { setPage(i) }}>
      {i}
    </li>
  );
} ****ì‹œì‘ í˜ì´ì§€ë¶€í„° ë í˜ì´ì§€ê¹Œì§€ ë°˜ë³µí•˜ì—¬ í˜ì´ì§€ ë²ˆí˜¸ë¥¼ ìƒì„±****

ì´ë ‡ê²Œí•˜ë©´ í˜ì´ì§€ë„¤ì´ì…˜ í•¨ìˆ˜ ë§Œë“¤ê¸° ë!


![image](https://github.com/suyeonpar/Festival/assets/142365626/bc9f9870-c650-4c6e-a6db-6c245dd9fe9a)

ì´ì „,ë‹¤ìŒ ì‚¬ì´ì— pageListë¥¼ ì¶œë ¥í•´ì£¼ë©´

![image](https://github.com/suyeonpar/Festival/assets/142365626/6e46ed79-9c24-4bdc-a1a9-b6018914c56d)

ì´ë ‡ê²Œ ì˜ˆì˜ê²Œ í˜ì´ì§€ë„¤ì´ì…˜ì´ ëœ¨ëŠ” ê±¸ ë³¼ ìˆ˜ ìˆë‹¤!!ğŸ§

ë§ì€ êµ¬ê¸€ê²€ìƒ‰ê³¼ ì„ ìƒë‹˜ì˜ ë„ì›€ì´ ì—†ì—ˆë‹¤ë©´ ë” í˜ë“¤ì—ˆì„ í˜ì´ì§€ë„¤ì´ì…˜...

ì•ìœ¼ë¡œë„ ë§ì€ ì—°ìŠµì´ í•„ìš”í•  ê²ƒ ê°™ë‹¤!
